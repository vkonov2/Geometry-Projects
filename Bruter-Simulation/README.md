# Bruter Simulation
This repository contains bruter simulation project that have been done during my work.

<h2>Описание работы</h2>

Происходит обтачивание рундиста алмаза при одновременном вращении объекта и обдирочного диска.

Задача заключается в расчете оптимальной согласованной скорости вращения объекта и движения центра обдирочного диска.

Оптимальным считается движение при выполнении следующих условий:
- [] минимальное время обработки камня
- [] ускорения и скорости вращения и подачи диска не превышают заданных пределов механики
- [] выполняется ограничение на максимальный съем материала

Необходимо построить графики движения, скорости и ускорения диска, при условии что принцесса вращается равномерно, а диск скользит по поверхности рундиста принцессы.

<h2>Этапы моделирования</h2>

- [] прицесса с квадратным рундистом и стороной 8mm, радиус диска 75mm, центр вращения бриллианта в центре бриллианта
- [] то же самое что в п. 1, но центр смещен на 1 mm к одной стороне принцессы и на 2 mm к соседней стороне принцессы
- [] то же самое что п. 2, но это не квадратная принцесса, а изумруд со сторонами 4 и 12 mm, и смещение центра вращения на 1 mm вдоль короткой стороны, а на 2 mm вдоль длинной
- [] произвольный многогранник (здесь и выше, можно решать задачу в 2D) и произвольный центр вращения внутри многогранника
- [] плавный переход из формы алмаза в форму бриллианта, чтобы максимизировать время контакта на один оборот и минимизировать максимальные ускорения: алмаз – это круг, а бриллиант – квадрат, тогда траектория плавно меняется с круга на квадрат

<h2>Решение</h2>
Будем моделировать задачу следующим образом: заданный многоугольник (сдвинутый или нет) вращается вокруг начала координат, диск находится всегда на оси OY и двигается по ней вверх и вниз.

<h3>Общая идея</h3>

- [] Строим скругленный контур вокруг заданного многоугольника – это геометрическое место центров окружности, катящейся без отрыва по границе исходного многоугольника. Есть два качественно разных участков данного контура:
	- [] диск касается стороны многоугольника, тогда эта часть контура будет являть собой прямую, параллельную касаемой стороне и отстоящей от нее на радиус диска
	- [] диск пересекает многоугольник по вершине, тогда эта часть контура будет являть собой окружность с центром в пересекаемой вершине и радиусом, равным радиусу диска
	
	Контур строится по точкам с большим числом разбиений.
- [] После получения контура вращаем его вокруг центра вращения (начала координат) и ищем точку пересечения этого контура с осью OY – ордината этой точки будет соответствовать углу поворота многоугольника, и мы получим зависимость ординаты центра диска от угла вращения
- [] Графики ординаты центра диска строим по точкам, а графики скорости и ускорения центра диска получаем численным дифференцированием (один и два раза) зависимости ординаты диска от угла поворота.

<h4>Идея для задачи №5</h4>

<h5>Бриллиант -> алмаз</h5>

В решении было использована кривая Фернандеса-Гуасти (т.н. squircle) – это плоская алгебраическая кривая, которая является промежуточной формой между кругом и квадратом. У нее есть качественные особенности, которые похожи на более известную кривую Ламе. Определения, свойства и формулы, использованные в алгоритме описаны в [статье](https://arxiv.org/pdf/1604.02174.pdf).

<!-- <img align="center" src="https://github.com/vkonov2/Geometry-Projects/blob/f0d3c3b501848cacb86ef4eb328352338f184da4/Preliminary-Algorithms/Least-Square-Line-Fitting/images/6.jpg" alt="c" width="500" height="500"/> -->

<h5>Алмаз -> бриллиант</h5>

В решении было использована кривая Эдвардса – это плоская алгебраическая кривая, которая является важной кривой в области криптографии (для сложения на эллиптических кривых). Определения, свойства и формулы, использованные в алгоритме описаны в [статье](https://www.ams.org/journals/bull/2007-44-03/S0273-0979-07-01153-6/S0273-0979-07-01153-6.pdf).

<!-- <img align="center" src="https://github.com/vkonov2/Geometry-Projects/blob/f0d3c3b501848cacb86ef4eb328352338f184da4/Preliminary-Algorithms/Least-Square-Line-Fitting/images/6.jpg" alt="c" width="500" height="500"/> -->

<h3>Реализация</h3>
Решение реализовано на языке Python. 
Для работы с геометрическими объектами, различных расчетов и графической презентацией данных были использованы библиотеки Shapely, PyPlot и Numpy.
Для анимации процесса “качения” диска по многоугольнику был реализован скрипт на языке Wolfram Mathematica.
Алгоритм построения произвольного многоугольника была реализована ранее.

<h2> Результаты расчетов </h2>

<h3> Модель №1 </h3>

<!-- <img align="center" src="https://github.com/vkonov2/Geometry-Projects/blob/f0d3c3b501848cacb86ef4eb328352338f184da4/Preliminary-Algorithms/Least-Square-Line-Fitting/images/6.jpg" alt="c" width="500" height="500"/> -->

прицесса с квадратным рундистом и стороной 8mm, радиус диска 75mm, центр вращения бриллианта в центре бриллианта

<!-- <img align="center" src="https://github.com/vkonov2/Geometry-Projects/blob/f0d3c3b501848cacb86ef4eb328352338f184da4/Preliminary-Algorithms/Least-Square-Line-Fitting/images/6.jpg" alt="c" width="500" height="500"/> -->

скругленный контур (красный) - это ГМТ центров катящейся окружности по границе квадрата

<!-- <img align="center" src="https://github.com/vkonov2/Geometry-Projects/blob/f0d3c3b501848cacb86ef4eb328352338f184da4/Preliminary-Algorithms/Least-Square-Line-Fitting/images/6.jpg" alt="c" width="500" height="500"/> -->

графики координаты, скорости и ускорения центра диска от угла поворота камня





